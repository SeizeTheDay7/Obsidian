>[!note]
>파이썬 옛날 버전에선 함수에 대한 주석 달기(annotationa)로 그 함수가 속한 클래스의 이름을 사용할 수 없었는데, 이거 쓰면 가능해짐


`from __future__ import annotations`는 파이썬의 `__future__` 모듈을 사용하여 앞으로의 파이썬 버전에 도입될 기능을 현재 버전에서 사용할 수 있게 하는 문장입니다. 이 문장은 특히 **타입 힌트**를 사용할 때 매우 유용합니다.

### 자세한 설명

#### `__future__` 모듈

`__future__` 모듈은 파이썬의 기능을 점진적으로 도입하기 위해 사용됩니다. 이를 통해 현재 버전의 파이썬에서 앞으로의 버전에서 기본적으로 제공될 기능을 사용할 수 있습니다. 예를 들어, 파이썬 2에서 파이썬 3의 기능을 일부 도입하여 사용할 수 있었습니다.

#### `annotations`

`from __future__ import annotations`는 파이썬 3.7에서 도입되었으며, 기본적으로 파이썬 3.10부터 활성화되었습니다. 이 기능은 **타입 힌트**의 평가를 지연시킵니다. 즉, 타입 힌트에서 참조되는 타입이 문자열로 처리되어, 실제 평가가 지연됩니다. 이를 통해 순환 참조 문제를 해결하거나, 아직 정의되지 않은 타입을 사용할 수 있게 됩니다.

### 예제

타입 힌트를 사용하여 클래스 간의 순환 참조를 처리하는 예제를 통해 이를 설명하겠습니다.

#### 순환 참조 문제

두 클래스가 서로를 참조할 때, 정의 순서 때문에 문제가 발생할 수 있습니다.

```python
class Node:
    def __init__(self, value: int, next: Node):
        self.value = value
        self.next = next
```

위 예제에서는 `Node` 클래스가 아직 정의되지 않았기 때문에 `next: Node`에서 오류가 발생합니다.

#### `from __future__ import annotations` 사용

이를 해결하기 위해 `from __future__ import annotations`를 사용하여 타입 힌트를 문자열로 처리할 수 있습니다.

```python
from __future__ import annotations

class Node:
    def __init__(self, value: int, next: Node = None):
        self.value = value
        self.next = next
```

이렇게 하면 `Node` 클래스의 정의가 완료된 후에 타입 힌트가 평가되므로, 오류가 발생하지 않습니다.

### 장점

1. **순환 참조 해결**: 클래스 간의 순환 참조 문제를 해결할 수 있습니다.
2. **모듈 간 참조 해결**: 모듈 간의 참조를 처리하기 쉽게 합니다.
3. **가독성 향상**: 복잡한 타입 힌트를 문자열로 처리하여 가독성을 향상시킵니다.

### 파이썬 3.10부터의 변화

파이썬 3.10부터는 이 기능이 기본적으로 활성화되어 있으므로, 별도로 `from __future__ import annotations`를 사용할 필요가 없습니다. 그러나 이전 버전에서도 이 기능을 사용하고자 할 때는 이 문장을 추가해야 합니다.

### 요약

- `from __future__ import annotations`는 타입 힌트의 평가를 지연시키는 기능입니다.
- 이를 통해 순환 참조 문제와 모듈 간 참조 문제를 해결할 수 있습니다.
- 파이썬 3.10부터는 기본적으로 활성화되어 있습니다.

이 기능을 통해 타입 힌트를 더 유연하고 강력하게 사용할 수 있습니다.